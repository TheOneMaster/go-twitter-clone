{{$userPhoto := "/static/profile.png"}}
{{if .Photo}}
{{$userPhoto = .Photo}}
{{end}}

{{$likedColor := "none"}}
{{if .Liked}}
{{$likedColor = "red"}}
{{end}}

<div hx-get="/message/{{.ID}}" hx-trigger="reload-message-{{.ID}} from:body" hx-target="this" hx-swap="outerHTML">
    <div id="/message/{{.ID}}"
        class="bg-slate-700 rounded-sm px-4 py-3 flex {{if .Selected}}border border-cyan-400 border-dashed{{end}}"
        hx-get="/replies/{{.ID}}"
        hx-swap="innerHTML"
        hx-target="#replyList"
        hx-trigger="click consume">
        <img  src="{{$userPhoto}}" alt="profile-image" class="w-24 h-24 rounded-full border-4 border-slate-500 mr-4" />
        <div class="flex flex-col flex-1">
            <h3 class="font-bold text-white">{{.Author}}</h3>

            <p class="text-white">{{.Data}}</p>

            <div class="mt-auto pt-4 flex flex-row">
                <span class="text-slate-400 font-light">{{.Time}}</span>

                <div class="ml-auto self-end">
                    {{ template "likeButton.html" . }}
                </div>
            </div>
        </div>
    </div>
</div>
